INFO 06-01 11:38:53 [__init__.py:239] Automatically detected platform cuda.
Namespace(backend='openai', base_url=None, host='localhost', port=51327, endpoint='/v1/completions', dataset=None, dataset_name='sharegpt', dataset_path='/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/data/ShareGPT_V3_unfiltered_cleaned_split.json', model='/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-3.1-8b-instruct', tokenizer=None, sharegpt_output_len=None, seed=0, trust_remote_code=False, save_result=True, metadata=None, result_dir='benchmarks/lora/definitive_results/finding_maximum/test_dataset/with_offloading/llama-3.1-8b-instruct/rate_0.4-0.05-0.0125_size_8-16-16/_32_160_16_', launch_server=True, server_args='--port=51327 --disable-log-requests --model="/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-3.1-8b-instruct" --enable-lora --dummy-lora-modules="/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-3.1-8b-instruct/lora/lora-finance_dummy_rank_8/ /gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-3.1-8b-instruct/lora/lora-finance_dummy_rank_16/ /gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-3.1-8b-instruct/lora/lora-finance_dummy_rank_16/" --max-num-seqs="2048" --scheduler-cls="vllm.v1.core.sched.scheduler.Scheduler" --no-enable-prefix-caching --max-loras=32 --max-cpu-loras=160 --max-lora-rank=16', server_init_time=1800, disable_log_stats=False, total_time=3600, adapter_rates=[0.4, 0.05, 0.0125], aggregated_rate=None, use_extended_metric_checker=False, lora_pre_loading=False)
Server started
Number of adapters: 160
Adapter rates. Values: [0.0125 0.05   0.4   ]. Counts: [53 53 54]
Adapter prompts. [135, 4320, 135, 135, 540, 135, 135, 135, 4320, 135, 540, 4320, 540, 135, 540, 540, 540, 540, 4320, 4320, 4320, 540, 540, 540, 4320, 4320, 135, 4320, 540, 4320, 4320, 4320, 540, 4320, 135, 540, 540, 540, 4320, 135, 135, 4320, 135, 4320, 135, 135, 540, 135, 540, 4320, 135, 135, 540, 135, 135, 135, 135, 135, 4320, 540, 540, 4320, 540, 135, 4320, 4320, 4320, 540, 540, 135, 135, 135, 4320, 135, 540, 540, 135, 4320, 4320, 4320, 135, 135, 4320, 540, 4320, 4320, 135, 4320, 135, 540, 135, 135, 540, 540, 4320, 4320, 4320, 135, 4320, 540, 540, 135, 135, 135, 135, 4320, 540, 4320, 540, 4320, 4320, 4320, 135, 540, 540, 4320, 540, 4320, 135, 135, 135, 540, 540, 540, 4320, 4320, 540, 4320, 135, 540, 540, 135, 4320, 4320, 4320, 4320, 4320, 4320, 540, 540, 540, 540, 540, 4320, 135, 4320, 135, 4320, 540, 135, 540, 135, 135, 540, 540, 540, 4320, 540, 135, 135]
Prompts retrieved: 269055 . Total input tokens: 59963727 . Total output tokens: 53014399
Prompts distributed
Concurrent checker started
Starting initial single prompt test run for base model
Initial test run completed. Starting main benchmark run...
===== Serving Benchmark Intermediate Result ======
Successful requests:                     85890     
Benchmark duration (s):                  3600.34   
Total input tokens:                      19122391  
Total generated tokens:                  16745617  
Request throughput (req/s):              23.86     
Input token throughput (tok/s):          5311.27   
Output token throughput (tok/s):         4651.12   
---------------Time to First Token----------------
Mean TTFT (ms):                          123362.95 
Median TTFT (ms):                        54818.42  
P99 TTFT (ms):                           466134.44 
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          69.51     
Median TPOT (ms):                        62.15     
P99 TPOT (ms):                           154.54    
---------------Inter-token Latency----------------
Mean ITL (ms):                           62.15     
Median ITL (ms):                         44.35     
P99 ITL (ms):                            563.91    
==================================================
Concurrent checker terminated
Server terminated
