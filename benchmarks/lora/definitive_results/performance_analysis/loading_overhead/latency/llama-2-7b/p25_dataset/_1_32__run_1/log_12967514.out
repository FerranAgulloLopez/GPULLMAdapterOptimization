WARNING 12-13 11:30:51 _custom_ops.py:14] Failed to import from vllm._C with ModuleNotFoundError("No module named 'vllm._C'")
Namespace(backend='openai', base_url=None, host='localhost', port=36444, endpoint='/v1/completions', dataset=None, dataset_name='sharegpt', dataset_path='/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/data/dummy_dataset_p25.json', model='/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-2-7b', tokenizer=None, best_of=1, use_beam_search=False, num_prompts=100, sharegpt_output_len=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, request_rate=inf, request_rate_by_lora=None, seed=0, trust_remote_code=False, disable_tqdm=True, save_result=True, metadata=None, result_dir='benchmarks/lora/definitive_results/theory/lora_overhead/llama-2-7b/p25_dataset/_1_32__run_1', launch_server=True, server_args='--port=36444 --disable-log-requests --model=/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-2-7b --enable-lora --lora-modules=sql-lora=/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-2-7b/lora/yard1_sql-lora-test_dummy_rank_32/ --max-num-seqs=50 --max-loras=1 --max-lora-rank=32', disable_log_stats=False, disable_loras_users=False, user_lora_request_relation=None, infinite_behaviour=False, restrict_loras=None)
Server started
Requests users. Values: ['0']. Counts: [100]
Requests loras. Values: ['sql-lora']. Counts: [100]
Error while running usage checker: HTTPConnectionPool(host='localhost', port=36444): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f8bb9076c80>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=36444): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f8bb90d9030>: Failed to establish a new connection: [Errno 111] Connection refused'))
Starting initial single prompt test run...
Initial test run completed. Starting main benchmark run...
Traffic request rate: inf
============ Serving Benchmark Result ============
Successful requests:                     100       
Benchmark duration (s):                  1.59      
Total input tokens:                      2300      
Total generated tokens:                  2700      
Request throughput (req/s):              62.70     
Input token throughput (tok/s):          1442.16   
Output token throughput (tok/s):         1692.98   
---------------Time to First Token----------------
Mean TTFT (ms):                          668.10    
Median TTFT (ms):                        668.46    
P99 TTFT (ms):                           1010.51   
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          22.15     
Median TPOT (ms):                        22.15     
P99 TPOT (ms):                           22.21     
---------------Inter-token Latency----------------
Mean ITL (ms):                           22.06     
Median ITL (ms):                         22.00     
P99 ITL (ms):                            24.00     
==================================================
Concurrent checker terminated
Server terminated
