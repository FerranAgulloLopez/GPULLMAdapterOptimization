WARNING 12-13 11:32:53 _custom_ops.py:14] Failed to import from vllm._C with ModuleNotFoundError("No module named 'vllm._C'")
Namespace(backend='openai', base_url=None, host='localhost', port=65299, endpoint='/v1/completions', dataset=None, dataset_name='sharegpt', dataset_path='/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/data/dummy_dataset_p75.json', model='/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-2-7b', tokenizer=None, best_of=1, use_beam_search=False, num_prompts=100, sharegpt_output_len=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, request_rate=inf, request_rate_by_lora=None, seed=0, trust_remote_code=False, disable_tqdm=True, save_result=True, metadata=None, result_dir='benchmarks/lora/definitive_results/theory/lora_overhead/llama-2-7b/p75_dataset/_1_32__run_3', launch_server=True, server_args='--port=65299 --disable-log-requests --model=/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-2-7b --enable-lora --lora-modules=sql-lora=/gpfs/scratch/bsc98/bsc098069/llm_benchmarking/models/llama/llama-2-7b/lora/yard1_sql-lora-test_dummy_rank_32/ --max-num-seqs=50 --max-loras=1 --max-lora-rank=32', disable_log_stats=False, disable_loras_users=False, user_lora_request_relation=None, infinite_behaviour=False, restrict_loras=None)
Server started
Requests users. Values: ['0']. Counts: [100]
Requests loras. Values: ['sql-lora']. Counts: [100]
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb28fca0>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb28df00>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb2c0c40>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb2c05b0>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb2c1840>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb28df00>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb28fc10>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb2c0af0>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb2c0a00>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb2c2110>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb28e710>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb28e4a0>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc873a33f10>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb2c1cc0>: Failed to establish a new connection: [Errno 111] Connection refused'))
Error while running usage checker: HTTPConnectionPool(host='localhost', port=65299): Max retries exceeded with url: /metrics/ (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc7bb2c0d90>: Failed to establish a new connection: [Errno 111] Connection refused'))
Starting initial single prompt test run...
Initial test run completed. Starting main benchmark run...
Traffic request rate: inf
============ Serving Benchmark Result ============
Successful requests:                     50        
Benchmark duration (s):                  41.20     
Total input tokens:                      21150     
Total generated tokens:                  17900     
Request throughput (req/s):              1.21      
Input token throughput (tok/s):          513.40    
Output token throughput (tok/s):         434.51    
---------------Time to First Token----------------
Mean TTFT (ms):                          31385.85  
Median TTFT (ms):                        33645.38  
P99 TTFT (ms):                           41195.56  
-----Time per Output Token (excl. 1st token)------
Mean TPOT (ms):                          33.75     
Median TPOT (ms):                        33.87     
P99 TPOT (ms):                           35.99     
---------------Inter-token Latency----------------
Mean ITL (ms):                           33.84     
Median ITL (ms):                         31.19     
P99 ITL (ms):                            47.35     
==================================================
Concurrent checker terminated
Server terminated
